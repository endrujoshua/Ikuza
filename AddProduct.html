<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>IKUZA</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
</head>

<body>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-firestore.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyDF0P_LS6mmygNUu4OF2cze2cAAg1sl01k",
        authDomain: "ikuza-f9f15.firebaseapp.com",
        databaseURL: "https://ikuza-f9f15-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "ikuza-f9f15",
        storageBucket: "ikuza-f9f15.appspot.com",
        messagingSenderId: "332743558243",
        appId: "1:332743558243:web:875110e97cbc185bfda456"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const firestore = firebase.firestore();
</script>

<!-- Section for Product -->
<section>
    <H1>Form for Product</H1>
    <form>
        <label for="ProductName">Name:</label>
        <input type="text" id="ProductName" name="ProductName" required>
  
        <label for="ProductImage">Image/URL:</label>
        <input type="text" id="ProductImage" name="ProductImage" required>
  
        <label for="ProductDesc">Description:</label>
        <textarea type="text" id="ProductDesc" name="ProductDesc" required> </textarea>
  
        <label for="ProductPrice">Price:</label>
        <input type="number" id="ProductPrice" name="ProductPrice" required>

        <label for="CategoryName">Category:</label>
        <select id="CategoryName" required></select>

        <label for="ColorName">Color:</label>
        <select id="ColorName" required></select>
    <button type="submit" id="product_submit">Submit</button>
    </form>
</section>

<!--Section for category -->
<section>
    <h1>Form for Category</h1>
    <form id="categoryform">
        <label for="CategoryName">Name:</label>
        <input type="text" id="CategoryName" name="CategoryName" required>
        <label for="CategoryImg">Category Image:</label>
        <input type="text" id="CategoryImg" name="CategoryImg" required>
        <button type="submit" id="category_submit">Submit</button>
    </form>
</section>

<!--Section for color -->
<section>
    <h1>Form for Color</h1>
    <form id="colorform">
        <lable for="ColorName">Name:</lable>
        <input type="text" id="ColorName" name="ColorName" required>
        <label for="ColorHex">Color Hex:</label>
        <input type="text" id="ColorHex" name="ColorHex" required>
        <button type="submit" id="color_submit">Submit</button>
    </form>
</section>

<script>    
    const form = document.querySelector('form');
    const categoryform = document.getElementById('categoryform');
    const colorform = document.getElementById('colorform');

    const product_btn = document.querySelector('#product_submit');
    const category_btn = document.querySelector('#category_submit');
    const color_btn = document.querySelector('#color_submit');

    //Submit Button For products form
    product_btn.addEventListener('click', (e) => {
    e.preventDefault(); // Prevent the default form submit action

    // Get the user input values from the form
    const ProductName = form.ProductName.value;
    const ProductImage = form.ProductImage.value;
    const ProductDesc = form.ProductDesc.value;
    const ProductPrice = form.ProductPrice.value;

    // Add the data to Firestore
    const firestore = firebase.firestore();
    const product = firestore.collection("Product");
    
     // Get the user input values from the form
    product.add({
        ProductName: ProductName,
        ProductImage: ProductImage,
        ProductDesc: ProductDesc,
        ProductPrice: ProductPrice
    })

    .then((docRef) => {
    console.log("Document written with ID: ", docRef.id);
    form.reset(); // Clear the form after submitting
    })

    .catch((error) => {
    console.error("Error adding document: ", error);
    });
    });

    //Submit Button for category form
    category_btn.addEventListener('click', (e) => {
    e.preventDefault(); // Prevent the default form submit action

    // Get the user input values from the form
    const CategoryName = categoryform.CategoryName.value;
    const CategoryImg = categoryform.CategoryImg.value;

    // Add the data to Firestore
    const firestore = firebase.firestore();
    const Category = firestore.collection("Category");

    Category.add({
    CategoryName: CategoryName,
    CategoryImg: CategoryImg
    })

    .then((docRef) => {
    console.log("Document written with ID: ", docRef.id);
    categoryform.reset(); // Clear the form after submitting
    })

    .catch((error) => {
    console.error("Error adding document: ", error);
    });
    });

    //Submit Button for color form 
    color_btn.addEventListener('click', (e) => {
    e.preventDefault(); // Prevent the default form submit action 

    // Get the user input values from the form 
    const ColorName = colorform.ColorName.value;
    const ColorHex = colorform.ColorHex.value;

    // Add the data to firestore 
    const firestore = firebase.firestore();
    const Color = firestore.collection("Color");
    
     // Get the user input values from the form
    Color.add({
    ColorName: ColorName,
    ColorHex: ColorHex
    })

    .then((docRef) => {
    console.log("Document written with ID: ", docRef.id);
    colorform.reset(); // Clear the form after submitting
    })

    .catch((error) => {
    console.error("Error adding document: ", error);
    });
    });
</script>
</body>
</html>